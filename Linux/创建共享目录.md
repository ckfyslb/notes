### 在 Windows 电脑和 Linux 服务器之间创建共享目录

1. 将`Windows`电脑中的文件夹设置为共享目录：

   在`Windows`中打开命令行执行：

   ```shell'
   net share ShareDir="C:\User\xxx\xxx" /grant:everyone,FULL
   ```

   - `ShareDir`：共享名称 （自定义）

   - `"C:\User\xxx\xxx"`：共享文件夹在`Windows`上的地址

   - `/grant:everyone,FULL`： 可以访问共享文件夹的用户ID设置为`everyone`；访问共享文件夹的权限（`Read, Change or Full`可选），设置为`FULL`

2. `Windows`设置：在高级网络设置 -> 高级共享设置 -> 所有网络中，关闭"密码保护的共享"。（否则挂载时会报错）

3. 在`Linux`服务器创建挂载目录（自定义目录路径和名字）

   ```shell
   mkdir -p /home/shared_docs
   ```

4. 挂载

   ```shell
   mount -t cifs -o username="everyone",password="" //192.168.xx.xx/ShareDir /home/shared_docs -o sync
   ```

   匿名挂载，使用匿名的用户名`erveryone` 或 `guest`，密码不填或同用户名

   - `//192.168.xx.xx/ShareDir`：使用 `Windows`的`ip`地址和共享文件夹名称

   - `/home/shared_docs`：为`linux`的挂载目录

   - `-t cifs`：
     - `-t`：（--types）限制文件系统类型集合

     - `cifs`：CIFS (Common Internet File System) 文件系统也称通用 Internet 文件系统，它使程序可以访问远程 Internet 计算机上的文件并要求此计算机的服务

   - `-o username="everyone",password=""`：指定访问共享的用户名和密码
     - `-o`：是挂载选项（--options），用于指定文件系统的额外参数或行为

   - `-o sync`：表示在同步模式下执行，文件的读写动作都会在同步模式执行

5. 使用脚本永久挂载

   ```shell
   # 挂载命令添加到/etc/rc.d/rc.local
   sed -i '$a\mount -t cifs //192.168.xx.xx/ShareDir /home/shared_docs -o username="everyone",password="" -o sync' /etc/rc.d/rc.local
   
   # rc.local添加可执行权限
   chmod +x /etc/rc.d/rc.local
   ```

   - `sed -i`：就地修改文件，将命令`'mount -o loop -t iso9660 /opt/localrepo/CentOS-7-x86_64-Everything-2009.iso /mnt/localrepo/'`添加到`/etc/rc.d/rc.local`文件末尾
   - `$a\`：在文件的最后一行之后追加一行新内容
     - `$`：行尾定位符，表示文件的最后一行
     - `a`：在`sed`命令中表示追加命令（append），表示在匹配的行之后插入新内容
     - `\`：用于每行末尾续

6. ==Note==：如果`Windows`电脑在`Linux`服务器重启时没有与之连接，可能导致挂在失败，执行第 4 步挂载命令即可。
