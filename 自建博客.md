# 在 Windows 自建 Hugo 博客

### 1. 安装 Git

安装包下载：https://git-scm.com/downloads/win



### 2. 创建 github 仓库

- 在 `github` 右上角选择 `New repository`

<img src="C:\Users\CZY\AppData\Roaming\Typora\typora-user-images\仓库1.png" alt="仓库1" style="zoom:80%;" />

- 填写仓库名称，保持与账号名一致，然后提交创建

<img src="C:\Users\CZY\AppData\Roaming\Typora\typora-user-images\仓库2.png" alt="仓库2" style="zoom: 80%;" />



### 3. 安装 Hugo

`Hugo` 官方文档：[The world’s fastest framework for building websites | Hugo (gohugo.io)](https://gohugo.io/)

- 下载安装包：[Releases · gohugoio/hugo (github.com)](https://github.com/gohugoio/hugo/releases/)，然后解压得到可执行文件 `hugo.exe`（若不是则重命名为 `hugo.exe`）

- 创建目录（如 `D:\blog`），然后在下面创建 `D:\blog\bin` 和 `D:\blog\Sites`

- 将 `hugo.exe` 放到 `D:\blog\bin` 下

- 将 `D:\Hugo\bin` 添加到环境变量

- 打开 `Git Bash` 窗口：
  - 输入`hugo version`验证可执行文件
  
    <img src="C:\Users\CZY\AppData\Roaming\Typora\typora-user-images\image-20250703232011862.png" alt="image-20250703232011862" style="zoom:80%;" />
  
  - 通过以下命令转到 `Sites` 目录下

    ```shell
    cd /d/blog/Sites
    ```
  
  - 运行以下命令来生成一个新的网站，并生成目录结构
    
    ```shell
    hugo new site [博客项目名字] --format yaml    
    
    # eg：hugo new site MyBlog --format yaml
    # 运行后会创建一个 MyBlog 目录，以后该博客的相关文件都在里面，名字随便取
    ```
    
    <img src="C:\Users\CZY\AppData\Roaming\Typora\typora-user-images\image-20250703232711698.png" alt="image-20250703232711698" style="zoom:80%;" />
  
- 进入创建的 `Hugo` 目录 `MyBlog`，初始化 `MyBlog` 为 `git` 仓库
  
  ```shell
  cd MyBlog
  git init
  ```
  
  <img src="C:\Users\CZY\AppData\Roaming\Typora\typora-user-images\image-20250703234621912.png" alt="image-20250703234621912" style="zoom:80%;" />
  
- 添加主题：
  
  - 进入[官方主题库](https://themes.gohugo.io/)，选择主题：[Installation · adityatelange/hugo-PaperMod Wiki (github.com)](https://github.com/adityatelange/hugo-PaperMod/wiki/Installation)
  
  - 在 `MyBlog` 目录下执行主题提供的安装命令：
  
    ```shell
    git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod
    ```
  
    <img src="C:\Users\CZY\AppData\Roaming\Typora\typora-user-images\image-20250704000604071.png" alt="image-20250704000604071" style="zoom:80%;" />
  
  - 主题下载完后会在 `MyBlog` 目录下的 `themes` 目录下
  
  - 打开 `MyBlog` 目录下的 `hugo.yaml` 文件，在末尾加上一行 `theme: ["PaperMod"]` ，并对其他值进行修改：
  
    - `baseURL` 改为创建的 `github` 仓库地址
    - `languageCode` 修改为中文
    - `title` 自定义
  
    ```yaml
    baseURL: https://ckfyslb.github.io/
    languageCode: zh-cn
    title: xxx的博客
    theme: ["PaperMod"]
    ```
  
- 本地启动 `Hugo ` 查看博客

```shell
hugo serve [--buildDrafts]     # --buildDrafts: 显示草稿状态的内容
```









在站点根目录 `MyBlog` 下使用 `hugo new` 命令创建一个新的内容文件（会自动设置日期和标题），创建的文件会在`content`目录里

```shell
hugo new [路径]
```

![blog](D:\笔记\picture\blog.png)

再根据第 4 步将 `public `文件夹同步到 `github `上即可。



### 4. 将个人博客部署到 github 服务器

```shell
# hugo --theme=[主题名称] --baseURL=[仓库地址] --buildDr afts
hugo --theme=PaperMod --baseURL="https://ckfyslb.github.io/" --buildDrafts
```

将 `public `文件夹传到 `github `上：

```shell
# 转到 public 目录下
cd public

# 创建 git 仓库
git init

# 
# Windows会报错，因为换行符格式不对，使用 git config --global core.autocrlf true 解决
git add .
# 
git commit -m "添加说明文字"
# 
git remote add origin https://github.com/ckfyslb/ckfyslb.github.io
# 
git push [-u origin master]
```



